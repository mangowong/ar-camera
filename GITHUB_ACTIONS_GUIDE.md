# GitHub Actions è‡ªåŠ¨æ„å»ºæŒ‡å—

## ğŸš€ è‡ªåŠ¨æ„å»º APK

é¡¹ç›®å·²é…ç½® GitHub Actionsï¼Œå¯ä»¥è‡ªåŠ¨æ„å»º Debug APKï¼

---

## âœ… å·²é…ç½®çš„å·¥ä½œæµ

### 1. Debug APK æ„å»ºï¼ˆè‡ªåŠ¨è§¦å‘ï¼‰

**æ–‡ä»¶**: `.github/workflows/build-apk.yml`

**è§¦å‘æ¡ä»¶**:
- âœ… æ¨é€ä»£ç åˆ° `main` æˆ– `develop` åˆ†æ”¯
- âœ… åˆ›å»º Pull Request åˆ° `main` åˆ†æ”¯
- âœ… æ‰‹åŠ¨è§¦å‘ï¼ˆåœ¨ Actions é¡µé¢ï¼‰

**æ„å»ºå†…å®¹**:
- Debug APK (å·²ç­¾å)
- è‡ªåŠ¨ä¸Šä¼ åˆ° Artifacts
- ä¿ç•™ 30 å¤©

---

## ğŸ“– å¦‚ä½•ä½¿ç”¨

### æ–¹æ³• 1: è‡ªåŠ¨æ„å»ºï¼ˆæ¨èï¼‰â­

#### æ­¥éª¤ï¼š

1. **æ¨é€ä»£ç åˆ° GitHub**
   ```bash
   # å¦‚æœè¿˜æ²¡æ¨é€åˆ°è¿œç¨‹
   git remote add origin https://github.com/mangowong/ar-camera.git
   git push -u origin main
   ```

2. **æŸ¥çœ‹æ„å»ºçŠ¶æ€**
   - è®¿é—®: https://github.com/mangowong/ar-camera/actions
   - ä¼šçœ‹åˆ°è‡ªåŠ¨æ„å»ºå·²å¼€å§‹

3. **ç­‰å¾…æ„å»ºå®Œæˆ**
   - é€šå¸¸éœ€è¦ 5-10 åˆ†é’Ÿ
   - é¦–æ¬¡æ„å»ºå¯èƒ½éœ€è¦ 15-20 åˆ†é’Ÿï¼ˆä¸‹è½½ä¾èµ–ï¼‰

4. **ä¸‹è½½ APK**
   - ç‚¹å‡»æ„å»ºä»»åŠ¡
   - æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨
   - åœ¨ "Artifacts" éƒ¨åˆ†ä¸‹è½½ `app-debug`

---

### æ–¹æ³• 2: æ‰‹åŠ¨è§¦å‘æ„å»º

#### æ­¥éª¤ï¼š

1. **è¿›å…¥ Actions é¡µé¢**
   - è®¿é—®: https://github.com/mangowong/ar-camera/actions

2. **é€‰æ‹©å·¥ä½œæµ**
   - ç‚¹å‡»å·¦ä¾§çš„ "Build Debug APK"

3. **ç‚¹å‡» "Run workflow"**
   - é€‰æ‹©åˆ†æ”¯: `main`
   - ç‚¹å‡»ç»¿è‰²çš„ "Run workflow" æŒ‰é’®

4. **ç­‰å¾…å¹¶ä¸‹è½½**
   - ç­‰å¾…æ„å»ºå®Œæˆ
   - ä¸‹è½½ç”Ÿæˆçš„ APK

---

## ğŸ“± å®‰è£… APK

### æ­¥éª¤ï¼š

1. **ä¸‹è½½ APK**
   - ä» GitHub Actions Artifacts ä¸‹è½½
   - æ–‡ä»¶å: `app-debug.apk`

2. **å¯ç”¨æœªçŸ¥æ¥æºå®‰è£…**
   - Android è®¾ç½® -> å®‰å…¨
   - å…è®¸ä»æœªçŸ¥æ¥æºå®‰è£…

3. **å®‰è£… APK**
   - æ‰“å¼€ä¸‹è½½çš„ APK æ–‡ä»¶
   - æŒ‰æç¤ºå®‰è£…

4. **æˆäºˆæƒé™**
   - ç›¸æœºæƒé™
   - å­˜å‚¨æƒé™ï¼ˆå¦‚æœéœ€è¦ï¼‰

---

## ğŸ” æ„å»ºè¯¦æƒ…

### æ„å»ºè¿‡ç¨‹

GitHub Actions ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. âœ… **æ£€å‡ºä»£ç ** - è·å–æœ€æ–°ä»£ç 
2. âœ… **è®¾ç½® JDK 17** - é…ç½® Java ç¯å¢ƒ
3. âœ… **Gradle æ„å»º** - ç¼–è¯‘é¡¹ç›®
4. âœ… **ç”Ÿæˆ APK** - åˆ›å»º Debug APK
5. âœ… **ä¸Šä¼  Artifacts** - ä¿å­˜æ„å»ºäº§ç‰©
6. âœ… **ç”Ÿæˆæ‘˜è¦** - æ˜¾ç¤ºæ„å»ºä¿¡æ¯

### æ„å»ºæ—¶é—´

| åœºæ™¯ | æ—¶é—´ |
|------|------|
| é¦–æ¬¡æ„å»º | 15-20 åˆ†é’Ÿ |
| åç»­æ„å»º | 5-10 åˆ†é’Ÿ |
| ä¾èµ–ç¼“å­˜å‘½ä¸­ | 3-5 åˆ†é’Ÿ |

---

## ğŸ“Š æ„å»ºäº§ç‰©

### Debug APK ç‰¹æ€§

- **æ–‡ä»¶å**: `app-debug.apk`
- **ç­¾å**: ä½¿ç”¨ Debug å¯†é’¥è‡ªåŠ¨ç­¾å
- **å¤§å°**: çº¦ 20-30 MBï¼ˆåŒ…å« ARCoreï¼‰
- **ç‰ˆæœ¬**: å¯¹åº”å½“å‰ä»£ç ç‰ˆæœ¬
- **ä¿ç•™æœŸ**: 30 å¤©

### APK å†…å®¹

- AR Core åŠŸèƒ½ âœ…
- 3D æ¨¡å‹èµ„æº âœ…
- æ»¤é•œç³»ç»Ÿ âœ…
- è´´çº¸åŠŸèƒ½ âœ…
- æ‹ç…§åŠŸèƒ½ âœ…

---

## ğŸ› ï¸ é«˜çº§é…ç½®

### æ„å»º Release APK

å¦‚æœæ‚¨æƒ³æ„å»º Release APKï¼š

1. **é…ç½®å¯†é’¥**
   ```bash
   # å°† keystore è½¬æ¢ä¸º base64
   base64 release.keystore > keystore.txt

   # æ·»åŠ åˆ° GitHub Secrets
   # Settings -> Secrets and variables -> Actions -> New repository secret
   # Name: KEYSTORE_BASE64
   # Value: (keystore.txt çš„å†…å®¹)
   ```

2. **æ·»åŠ å…¶ä»– Secrets**
   - `KEYSTORE_PASSWORD` - å¯†é’¥åº“å¯†ç 
   - `KEY_ALIAS` - å¯†é’¥åˆ«å
   - `KEY_PASSWORD` - å¯†é’¥å¯†ç 

3. **æ¨é€æ ‡ç­¾è§¦å‘æ„å»º**
   ```bash
   git tag v1.0.0
   git push origin v1.0.0
   ```

### è‡ªå®šä¹‰æ„å»ºå‚æ•°

ç¼–è¾‘ `.github/workflows/build-apk.yml`:

```yaml
- name: Build Debug APK
  run: ./gradlew assembleDebug --stacktrace
  # å¯ä»¥æ·»åŠ å‚æ•°ï¼Œä¾‹å¦‚:
  # ./gradlew assembleDebug -PversionName=1.0.0
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### Q1: æ„å»ºå¤±è´¥ - Gradle é”™è¯¯

**A**: æ£€æŸ¥ `build.gradle.kts` é…ç½®
- ç¡®ä¿ä¾èµ–ç‰ˆæœ¬æ­£ç¡®
- æ£€æŸ¥è¯­æ³•é”™è¯¯

#### Q2: æ„å»ºå¤±è´¥ - ä¾èµ–ä¸‹è½½è¶…æ—¶

**A**:
- GitHub Actions ä¼šè‡ªåŠ¨é‡è¯•
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æŸ¥çœ‹ Actions æ—¥å¿—

#### Q3: APK æ— æ³•å®‰è£…

**A**:
- ç¡®è®¤ Android ç‰ˆæœ¬ >= 9.0
- æ£€æŸ¥è®¾å¤‡æ˜¯å¦æ”¯æŒ ARCore
- å¸è½½æ—§ç‰ˆæœ¬åé‡æ–°å®‰è£…

#### Q4: æ„å»ºæ—¶é—´è¿‡é•¿

**A**:
- é¦–æ¬¡æ„å»ºéœ€è¦ä¸‹è½½ä¾èµ–ï¼Œæ­£å¸¸æƒ…å†µ
- åç»­æ„å»ºä¼šä½¿ç”¨ç¼“å­˜ï¼Œé€Ÿåº¦æ›´å¿«
- å¯ä»¥é…ç½®ä¾èµ–ç¼“å­˜åŠ é€Ÿ

---

## ğŸ“ˆ æ„å»ºå†å²

### æŸ¥çœ‹æ‰€æœ‰æ„å»º

1. è®¿é—® Actions é¡µé¢
2. æŸ¥çœ‹æ‰€æœ‰å†å²æ„å»º
3. æ¯æ¬¡æ„å»ºéƒ½æœ‰è¯¦ç»†æ—¥å¿—

### æ„å»ºçŠ¶æ€å¾½ç« 

å¯ä»¥åœ¨ README ä¸­æ·»åŠ çŠ¶æ€å¾½ç« ï¼š

```markdown
![Build Status](https://github.com/mangowong/ar-camera/actions/workflows/build-apk.yml/badge.svg)
```

æ•ˆæœï¼š
![Build Status](https://github.com/mangowong/ar-camera/actions/workflows/build-apk.yml/badge.svg)

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. åˆ†æ”¯ç®¡ç†

```bash
# å¼€å‘æ–°åŠŸèƒ½
git checkout -b feature/new-feature

# å®Œæˆåæ¨é€
git push origin feature/new-feature

# åˆ›å»º PR åˆ° main
# è‡ªåŠ¨è§¦å‘æ„å»º
```

### 2. æ„å»ºå‰æµ‹è¯•

```bash
# æœ¬åœ°æµ‹è¯•æ„å»º
./gradlew assembleDebug

# ç¡®ä¿æ— è¯¯åå†æ¨é€
git push origin main
```

### 3. å®šæœŸæ›´æ–°

- å®šæœŸæ›´æ–°ä¾èµ–ç‰ˆæœ¬
- æ£€æŸ¥ GitHub Actions å®‰å…¨è­¦å‘Š
- æ›´æ–° Actions ç‰ˆæœ¬

---

## ğŸ¯ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

### Git å‘½ä»¤

```bash
# æ¨é€ä»£ç è§¦å‘æ„å»º
git push origin main

# æ¨é€åˆ° develop åˆ†æ”¯
git push origin develop

# åˆ›å»º PR
gh pr create --title "New Feature" --body "Description"
```

### GitHub CLI (å¯é€‰)

```bash
# å®‰è£… GitHub CLI
# https://cli.github.com/

# æŸ¥çœ‹æ„å»ºçŠ¶æ€
gh run list

# æŸ¥çœ‹æœ€æ–°æ„å»ºè¯¦æƒ…
gh run view

# ä¸‹è½½æ„å»ºäº§ç‰©
gh run download
```

---

## ğŸ“ è·å–å¸®åŠ©

### èµ„æºé“¾æ¥

- **GitHub Actions æ–‡æ¡£**: https://docs.github.com/en/actions
- **é¡¹ç›® Actions é¡µé¢**: https://github.com/mangowong/ar-camera/actions
- **æ„å»ºé—®é¢˜**: æŸ¥çœ‹ Actions æ—¥å¿—

### å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹æœ€è¿‘ 10 æ¬¡æ„å»º
gh run list --limit 10

# æŸ¥çœ‹ç‰¹å®šæ„å»º
gh run view <run-id>

# é‡æ–°è¿è¡Œæ„å»º
gh run rerun <run-id>

# å–æ¶ˆè¿è¡Œä¸­çš„æ„å»º
gh run cancel <run-id>
```

---

## âœ… æ£€æŸ¥æ¸…å•

ä½¿ç”¨ GitHub Actions æ„å»ºå‰ï¼š

- [ ] ä»£ç å·²æ¨é€åˆ° GitHub
- [ ] `.github/workflows/build-apk.yml` å·²æäº¤
- [ ] Gradle wrapper æ–‡ä»¶å­˜åœ¨
- [ ] æ„å»ºé…ç½®æ­£ç¡®

æ„å»ºå®Œæˆåï¼š

- [ ] Actions é¡µé¢æ˜¾ç¤º âœ… æˆåŠŸ
- [ ] APK å·²ä¸Šä¼ åˆ° Artifacts
- [ ] å¯ä»¥ä¸‹è½½å¹¶å®‰è£…
- [ ] åº”ç”¨åœ¨è®¾å¤‡ä¸Šæ­£å¸¸è¿è¡Œ

---

## ğŸ‰ æ€»ç»“

### ä¼˜åŠ¿

âœ… **è‡ªåŠ¨åŒ–** - æ¨é€ä»£ç å³æ„å»º
âœ… **å¿«é€Ÿ** - 5-10 åˆ†é’Ÿå®Œæˆ
âœ… **å…è´¹** - GitHub å…¬å¼€ä»“åº“å…è´¹ä½¿ç”¨
âœ… **å¯é ** - æ¯æ¬¡æ„å»ºç¯å¢ƒä¸€è‡´
âœ… **ä¾¿æ·** - ä¸€é”®ä¸‹è½½ APK

### ä¸‹ä¸€æ­¥

1. æ¨é€ä»£ç åˆ° GitHub
2. ç­‰å¾…è‡ªåŠ¨æ„å»ºå®Œæˆ
3. ä¸‹è½½ APK å¹¶æµ‹è¯•
4. äº«å—è‡ªåŠ¨åŒ–æ„å»ºçš„ä¾¿åˆ©ï¼

---

**ç¥æ‚¨æ„å»ºé¡ºåˆ©ï¼** ğŸš€

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ Actions æ—¥å¿—æˆ–æ Issueã€‚
